{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","App.module.css","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGallery.module.css","components/FetchLoader/FetchLoader.module.css","components/Button/Button.module.css","components/SearchForm/SearchForm.module.css","services/pixabay.js","components/SearchForm/SearchForm.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/FetchLoader/FetchLoader.js","components/Button/Button.js","components/Modal/Modal.js","App.js","index.js"],"names":["module","exports","PixabayFetch","baseURL","apiKey","this","_searchQuery","_searchPage","searchPerPage","value","a","axios","defaults","params","searchQuery","searchPage","get","response","data","hits","console","log","message","SearchForm","onSubmit","className","s","searchForm","type","button","buttonLabel","input","autoComplete","autoFocus","placeholder","Searchbar","searchbar","ImageGalleryItem","images","openModal","map","e","imageGalleryItem","src","webformatURL","alt","tags","largeImageURL","image","onClick","id","ImageGallery","imageGallery","FetchLoader","visible","loader","color","height","width","Button","loadMoreImages","Modal","handleEscape","key","props","closeModal","handleClose","currentTarget","target","window","addEventListener","removeEventListener","modalImageDescription","createPortal","overlay","modal","document","getElementById","Component","fetchImages","App","state","page","perPage","inputValue","showLoader","showModal","modalImage","setState","dataset","url","preventDefault","prev","prevProps","prevState","searchPhoto","then","scrollTo","top","documentElement","scrollHeight","behavior","app","length","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.3e4a74c1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2nXQ3\",\"modal\":\"Modal_modal__2kpxk\",\"button\":\"Modal_button__2LQCF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__1aI8a\",\"image\":\"ImageGalleryItem_image__1qBIy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__2Q6Dm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__38-kP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__4XkuN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"FetchLoader_loader__1wgXg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__ZJuyL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"SearchForm_searchForm__1oW19\",\"button\":\"SearchForm_button__1gKFC\",\"buttonLabel\":\"SearchForm_buttonLabel__NTCpq\",\"input\":\"SearchForm_input__fslX8\"};","import axios from \"axios\"\r\n\r\nexport class PixabayFetch {\r\n    constructor(baseURL, apiKey) {\r\n        this.baseURL = baseURL;\r\n        this.apiKey = apiKey;\r\n        this._searchQuery = '';\r\n        this._searchPage = 1;\r\n        this.searchPerPage = 12;\r\n    }\r\n\r\n    get searchQuery() {\r\n        return this._searchQuery\r\n    }\r\n    set searchQuery(value) {\r\n        return (this._searchQuery = value)\r\n    }\r\n    get searchPage() {\r\n        return this._searchPage\r\n    }\r\n    set searchPage(value) {\r\n        return (this._searchPage = value)\r\n    }\r\n\r\n    async searchPhoto() {\r\n        axios.defaults.baseURL = this.baseURL\r\n        const params = `?key=${this.apiKey}&q=${this.searchQuery}&page=${this.searchPage}&per_page=${this.searchPerPage}`\r\n        try {\r\n            const response = await axios.get(params)\r\n            const data = await response.data.hits\r\n            return data\r\n        } catch (error) {\r\n            console.log(error.message);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","import s from './SearchForm.module.css'\r\nimport PropTypes from 'prop-types'\r\n\r\nexport function SearchForm({ onSubmit }) {\r\n    return (\r\n        <form className={s.searchForm} onSubmit={onSubmit}>\r\n            <button type=\"submit\" className={s.button}>\r\n            <span className={s.buttonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n    )\r\n}\r\n\r\nSearchForm.propTypes = {\r\n    onSubmit: PropTypes.func\r\n}","import s from './Searchbar.module.css'\r\nimport PropTypes from 'prop-types'\r\nimport { SearchForm } from '../SearchForm/SearchForm'\r\n\r\nexport function Searchbar({ onSubmit }) {\r\n    return (\r\n        <header className={s.searchbar}>\r\n            <SearchForm onSubmit={onSubmit}/>\r\n        </header>\r\n    )\r\n}\r\n\r\nSearchbar.propTypes = {\r\n    onSubmit: PropTypes.func\r\n}","import s from './ImageGalleryItem.module.css'\r\nimport PropTypes from 'prop-types'\r\n\r\nexport function ImageGalleryItem({ images, openModal }) {\r\n    return (\r\n        <>\r\n            {images.map(e => {\r\n                return (\r\n                <li className={s.imageGalleryItem} key={e.id}>\r\n                        <img\r\n                            src={e.webformatURL}\r\n                            alt={e.tags}\r\n                            data-url={e.largeImageURL}\r\n                            className={s.image}\r\n                            onClick={openModal}\r\n                        />\r\n                </li>\r\n                )\r\n            })}\r\n       </> \r\n    )\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n    images: PropTypes.arrayOf(\r\n        PropTypes.shape({\r\n            id: PropTypes.number,\r\n            tags: PropTypes.string,\r\n            webformatURL: PropTypes.string,\r\n            largeImageURL: PropTypes.string\r\n        })\r\n    ),\r\n    openModal: PropTypes.func\r\n}","import s from './ImageGallery.module.css'\r\nimport PropTypes from 'prop-types'\r\nimport {ImageGalleryItem} from '../ImageGalleryItem/ImageGalleryItem'\r\n\r\nexport function ImageGallery({ images, openModal }) {\r\n    return (\r\n            <ul className={s.imageGallery}>\r\n                <ImageGalleryItem images={images} openModal={openModal}/>\r\n            </ul>\r\n    )\r\n}\r\n\r\nImageGallery.propTypes = {\r\n    images: PropTypes.arrayOf(\r\n        PropTypes.shape({\r\n            id: PropTypes.number,\r\n            tags: PropTypes.string,\r\n            webformatURL: PropTypes.string,\r\n            largeImageURL: PropTypes.string\r\n        })\r\n    ),\r\n    openModal: PropTypes.func\r\n}","import Loader from \"react-loader-spinner\";\r\nimport s from './FetchLoader.module.css'\r\nimport PropTypes from 'prop-types'\r\n\r\nexport function FetchLoader({visible}) {\r\n    return (\r\n        <div className={s.loader}>\r\n           <Loader visible={visible} type=\"Oval\" color=\"#3f51b5\" height={50} width={50} /> \r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nFetchLoader.propTypes = {\r\n    visible: PropTypes.bool\r\n}","import s from './Button.module.css'\r\nimport PropTypes from 'prop-types'\r\n\r\nexport function Button({loadMoreImages}) {\r\n    return (\r\n        <button type=\"button\" onClick={loadMoreImages} className={s.button}>Load more</button>\r\n    )\r\n}\r\n\r\nButton.propTypes = {\r\n    loadMoreImages: PropTypes.func\r\n}","import { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport s from './Modal.module.css'\r\n\r\nexport class Modal extends Component {\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.handleEscape)\r\n    }\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.handleEscape)\r\n    }\r\n\r\n    handleEscape = (e) => {\r\n        if (e.key === 'Escape') {\r\n            this.props.closeModal()\r\n        }\r\n    }\r\n    handleClose = (e) => {\r\n        if (e.currentTarget === e.target) {\r\n            this.props.closeModal()\r\n        }\r\n    }\r\n    render() {\r\n        const {image, modalImageDescription, closeModal} = this.props\r\n        return createPortal(\r\n            <div className={s.overlay} onClick={this.handleClose}>\r\n                <div className={s.modal}>\r\n                    <img src={image} alt={modalImageDescription} />\r\n                </div>\r\n                <button className={s.button} type=\"button\" onClick={closeModal}>X</button>\r\n            </div>,\r\n            document.getElementById('modalRoot')\r\n        )\r\n    }\r\n}","import s from './App.module.css';\nimport { Component } from 'react';\nimport { PixabayFetch } from './services/pixabay';\nimport { Searchbar } from './components/Searchbar/Searchbar';\nimport { ImageGallery } from './components/ImageGallery/ImageGallery';\nimport { FetchLoader } from './components/FetchLoader/FetchLoader';\nimport { Button } from './components/Button/Button';\nimport { Modal } from './components/Modal/Modal';\n\nconst baseURL = `https://pixabay.com/api`;\nconst apiKey = `23140827-84799927bd5cf84c72c1ef99f`\n\nconst fetchImages = new PixabayFetch(baseURL, apiKey)\n\nclass App extends Component {\n  state = {\n    images: [],\n    page: 1,\n    perPage: 12,\n    inputValue: '',\n    showLoader: false,\n    showModal: false,\n    modalImage: '',\n    modalImageDescription: '',\n  }\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.inputValue !== this.state.inputValue) {\n      fetchImages.searchQuery = this.state.inputValue\n      this.showLoader()\n      fetchImages.searchPhoto().then(data => {\n        this.setState({\n          images: [...data]\n        })\n        return this.showLoader()\n      })\n    }\n\n    if (prevState.page !== this.state.page) {\n      fetchImages.searchPage = this.state.page\n      this.showLoader()\n      fetchImages.searchPhoto().then(data => {\n        this.setState({\n          images: [...prevState.images, ...data]\n        })\n        return (this.showLoader(),\n          window.scrollTo({\n              top: document.documentElement.scrollHeight,\n              behavior: 'smooth',\n            })\n        )\n      })\n    }\n  }\n\n  openModal = (e) => {\n    this.setState({\n      modalImage: e.target.dataset.url,\n      modalImageDescription: e.target.alt,\n      showModal: !this.state.showModal\n    })\n  }\n  closeModal = (e) => {\n    this.setState({\n      modalImage: '',\n      modalImageDescription: '',\n      showModal: !this.state.showModal\n    })\n  }\n  onSubmit = (e) => {\n    e.preventDefault()\n    this.setState({\n      inputValue: e.target[1].value\n    })\n  }\n  loadMoreImages = () => {\n    this.setState((prev) => {\n      return ({\n        page: prev.page + 1\n      })\n    })\n  }\n  showLoader() {\n    this.setState({\n        showLoader: !this.state.showLoader\n      })\n  }\n\n  render() {\n    return (\n    <div className={s.app}>\n        <Searchbar onSubmit={this.onSubmit}/>\n        <ImageGallery images={this.state.images} openModal={this.openModal} />\n        <FetchLoader visible={this.state.showLoader} />\n        {this.state.images.length > 0 && (<Button loadMoreImages={this.loadMoreImages} />)}\n        {this.state.showModal === true &&\n          (<Modal\n            image={this.state.modalImage}\n            closeModal={this.closeModal}\n            modalImageDescription={this.state.modalImageDescription} />)}\n    </div>\n  );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}